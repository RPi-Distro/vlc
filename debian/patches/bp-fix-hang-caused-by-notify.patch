From: RÃ©mi Denis-Courmont <remi@remlab.net>
Subject: [PATCH] Revert "Notify: add a callback to match telepathy, msn"
 .
 The "item-change" callback is called with the playlist lock held in
 at least one case: when the now playing meta is cleared while a new
 input is created by the playlist.
 .
 playlist_CurrentInput() acquires the playlist lock. So the
 "item-change" callback cannot call it. This bug is present in the
 Growl, MSN and Telepathy modules since version 1.0.0. It got copied
 into Notify in version 2.0.0.
 .
 This reverts commit fc56b92af1636c53a0545109a74476fe74c054a5.
 This should fix #6641.
 (cherry picked from commit 1e5f4b465a82745e8e7e5a5de491deac39554ed3)
Origin: http://git.videolan.org/?p=vlc/vlc-2.0.git;a=commitdiff;h=e89f4296
Applied-Upstream: 2.0.4
Bug: http://trac.videolan.org/vlc/ticket/6641
Bug-Debian: http://bugs.debian.org/662628
Bug-Ubuntu: https://launchpad.net/bugs/970447

--- a/modules/notify/notify.c
+++ b/modules/notify/notify.c
@@ -122,7 +122,6 @@
 
     /* */
     var_AddCallback( pl_Get( p_intf ), "item-current", ItemChange, p_intf );
-    var_AddCallback( pl_Get( p_intf ), "item-change", ItemChange, p_intf );
 
     return VLC_SUCCESS;
 }
@@ -136,7 +135,6 @@
     intf_sys_t      *p_sys  = p_intf->p_sys;
 
     var_DelCallback( pl_Get( p_this ), "item-current", ItemChange, p_this );
-    var_DelCallback( pl_Get( p_this ), "item-change", ItemChange, p_this );
 
     if( p_sys->notification )
     {
